<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <style type='text/css'>
        .embeddedServiceHelpButton .helpButton .uiButton {
            background-color: #34c037;
            font-family: "Arial", sans-serif;
        }

        .embeddedServiceHelpButton .helpButton .uiButton:focus {
            outline: 1px solid #005290;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .logo-container img {
            max-width: 200px;
            position: absolute;
            bottom: 20px;
            right: 20px;
        }

        .text.announcement {
            display: none;
        }
        .dockableContainer {
            align-items: center; 
        }

        .hidden {
            display: none;
            flex-direction: row;
        }
    </style>
</head>

<body>
    <div class="logo-container">
        <a id="logoLink" href="#">
            <img id="logoImage" class="hidden"
                src="https://www.mercadomarfrig.com/file/general/Chat_Atendimento.png?timestamp=1688044884805"
                alt="Marfrig Logo">
        </a>
    </div>

    <script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
    <script type='text/javascript'>
        var logoLink = document.getElementById('logoLink');
        var logoImage = document.getElementById('logoImage');



             logoLink.addEventListener('click', function (event) {
             event.preventDefault();
             logoImage.classList.add('hidden');

            var initESW = function (gslbBaseURL) {
                embedded_svc.settings.displayHelpButton = false;
                embedded_svc.settings.language = 'pt-BR';


                embedded_svc.settings.defaultMinimizedText = 'Atendimento Marfrig';
                embedded_svc.settings.disabledMinimizedText = 'Aguarde..'; //(Assume como padrão Agente off-line)
                embedded_svc.settings.loadingText = 'Carregando..';
                embedded_svc.settings.smallCompanyLogoImgURL = "https://portal.mzgroup.com/wp-content/uploads/sites/953/2022/03/marfrig-logo.png";
                embedded_svc.settings.waitingStateBackgroundImgURL = "https://marfrig.com.br/pt/Style%20Library/images/logo-marfrig.png";
                embedded_svc.settings.prechatBackgroundImgURL = "https://www.mercadomarfrig.com/file/v8529788591570405569/general/carnes-desk.png";
                embedded_svc.settings.chatbotAvatarImgURL = "https://marfrig.com.br/pt/SiteAssets/favicon.ico";
                embedded_svc.settings.externalStyles = ['chatMessageStyle'];
                //embedded_svc.settings.autoOpenPostChat = true;

                embedded_svc.settings.prepopulatedPrechatFields = {
                    FirstName: 'John',
                    LastName: 'Doe',
                    Phone: '(11)94376-5134',
                    Email: 'john.doe@salesforce.com'

                };


                embedded_svc.settings.enabledFeatures = ['LiveAgent'];
                embedded_svc.settings.entryFeature = 'LiveAgent';


                embedded_svc.init(
        			'https://marfrig360--homolog.sandbox.my.salesforce.com',
        			'https://marfrig360--homolog.sandbox.my.site.com/robos',
        			gslbBaseURL,
        			'00D6w0000004dgP',
        			'ChatBotMaria',
        			{
        				baseLiveAgentContentURL: 'https://c.la2-c1cs-ia4.salesforceliveagent.com/content',
        				deploymentId: '5724Q000000blNG',
        				buttonId: '5738W000000M2M6',
        				baseLiveAgentURL: 'https://d.la2-c1cs-ia4.salesforceliveagent.com/chat',
        				eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I8W000000L1mBUAS_18903655b9d',
        				isOfflineSupportEnabled: false
        			}
        		);

                var intervalHelpButton = setInterval(function () {
                    var helButton = document.getElementsByClassName('helpButtonEnabled');

                    if (helButton.length > 0) {
                        clearInterval(intervalHelpButton);
                        helButton[0].click();

                    }

                }, 100);
                var intervalStartButton = setInterval(function () {
                    var startButton = document.getElementsByClassName('startButton');

                    if (startButton.length > 0) {
                        clearInterval(intervalStartButton);
                        startButton[0].click();
                    }
                }, 100);


            };

            if (!window.embedded_svc) {
        		var s = document.createElement('script');
        		s.setAttribute('src', 'https://marfrig360--homolog.sandbox.my.salesforce.com/embeddedservice/5.0/esw.min.js');
        		s.onload = function() {
        			initESW(null);
        		};
                document.body.appendChild(s);
            } else {
                initESW('https://service.force.com');
            }



        });

        // Mostrar a imagem após 5 segundos (apenas para demonstração)
        setTimeout(function () {
            logoImage.classList.remove('hidden');
        }, 2000);

    </script>
</body>

</html>
